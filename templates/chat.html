<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WorkWave</title>
    <link rel="stylesheet" href="{{url_for('static', filename='styles/chat.css')}}">
</head>
<body>
    <div class="header">
        <h1 onclick="window.location.href='/chat'" style="cursor: pointer;">WorkWave</h1>
        <div class="other">
            <button class="create-room-button" onclick="window.location.href='/lobby'">Create Room</button>
            <div class="user-info-button" onclick="toggleUserInfo()">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" class="bi bi-person-circle" viewBox="0 0 16 16">
                    <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                    <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
                </svg>
            </div>
        </div>
        <div class="user-info" id="user-info">
            <h4 id="info">Account Information</h4>
            <div class="user-details">
                <p>Name:</p>
                <p id="user-name"></p>
            </div>
            <div class="user-details">
                <p>Email:</p>
                <p id="user-email"></p>
            </div>
            <button class="button-33" role="button" onclick="window.location.href='/update_profile'">Update Profile</button><br><br>
            <button class="button-33" role="button" onclick="window.location.href='/logout'">Logout</button>
        </div>                   
    </div>
    <div class="container">
        <div class="sidebar">
            <div class="chat-header">
                <input type="text" id="search-bar" placeholder="Search or start a new chat">
            </div>
            <div class="chat-list" id="chat-list"></div>
        </div>
        <div class="main" id="chat-display">
            <div class="chat-header">
                <h3 id="chat-user-name"></h3>
            </div>
            <div class="messages" id="messages"></div>
            <div class="chat-footer">
                <button class="attachment-button" onclick="document.getElementById('file-input').click();">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-paperclip" viewBox="0 0 16 16">
                        <path d="M4.5 3a2.5 2.5 0 0 1 5 0v9a1.5 1.5 0 0 1-3 0V5a.5.5 0 0 1 1 0v7a.5.5 0 0 0 1 0V3a1.5 1.5 0 1 0-3 0v9a2.5 2.5 0 0 0 5 0V5a.5.5 0 0 1 1 0v7a3.5 3.5 0 1 1-7 0z"/>
                    </svg>
                </button>                
                <input type="text" id="message-input" placeholder="Type a message">
                <input type="file" id="file-input" style="display:none;" />
                <button class="send-button" onclick="sendMessage()">Send</button>
            </div>            
        </div>
    </div>
    <input type="hidden" id="current-first-name" value="{{ current_user.first_name }}">
    <input type="hidden" id="current-last-name" value="{{ current_user.last_name }}">
    <input type="hidden" id="current-email" value="{{ current_user.email }}">
    <script src="{{url_for('static', filename='js/chat.js')}}"></script>
</body>
</html>
